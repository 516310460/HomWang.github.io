(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{210:function(t,s,a){t.exports=a.p+"assets/img/hosted-login.41f4f396.png"},211:function(t,s,a){t.exports=a.p+"assets/img/client_settings.5d746055.png"},228:function(t,s,a){"use strict";a.r(s);var e=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"🔑-auth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🔑-auth","aria-hidden":"true"}},[this._v("#")]),this._v(" 🔑 Auth")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Nuxt.js的身份认证模块")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("yarn add @nuxtjs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("auth @nuxtjs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("axios\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OR")]),t._v("\nnpm install @nuxtjs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("auth @nuxtjs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("axios\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/axios'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/auth'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n​\n  auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Options")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#中间件","aria-hidden":"true"}},[this._v("#")]),this._v(" 中间件")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("可以在全局或每条路由启用 "),a("code",[t._v("auth")]),t._v(" 中间件。当在路由上启用此中间件并且 "),a("code",[t._v("loggedIn")]),t._v(" 为 "),a("code",[t._v("false")]),t._v(" 时，用户将被重定向到 "),a("code",[t._v("redirect.login")]),t._v(" 路由。(默认为 "),a("code",[t._v("/login")]),t._v(")")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  middleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  middleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在全局使用的情况下，您可以在特定组件中将 "),s("code",[this._v("auth")]),this._v(" 选项设置为 "),s("code",[this._v("false")]),this._v("，而中间件将忽略该路由。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项","aria-hidden":"true"}},[this._v("#")]),this._v(" 选项")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"redirect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirect","aria-hidden":"true"}},[this._v("#")]),this._v(" redirect")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  login"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  logout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("login")]),t._v(": 如果需要登录，用户将被重定向到此路径。")]),t._v(" "),a("li",[a("code",[t._v("logout")]),t._v(": 如果在注销后，当前路由受到保护，用户将被重定向到此路径。")]),t._v(" "),a("li",[a("code",[t._v("home")]),t._v(": 登录后，用户将重定向到此路径。（将重写此路径）")]),t._v(" "),a("li",[a("code",[t._v("callback")]),t._v(": 登录后，将用户重定向到此路径。（应该配置匹配 "),a("code",[t._v("允许回调URL")]),t._v(" （或类似设置）在你的应用程序/客户端。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过设置为false，可以禁用每个重定向路径。还可以通过将 "),s("code",[this._v("redirect")]),this._v(" 设置为 "),s("code",[this._v("false")]),this._v(" 禁用所有重定向")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"watchloggedin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watchloggedin","aria-hidden":"true"}},[this._v("#")]),this._v(" watchLoggedIn")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("true")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"token"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#token","aria-hidden":"true"}},[this._v("#")]),this._v(" token")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  prefix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_token.'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("prefix - 用于构建跨所有存储token密钥的前缀")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"localstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage","aria-hidden":"true"}},[this._v("#")]),this._v(" localStorage")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  prefix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth.'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("prefix - token前缀，用于浏览器本地存储中的token存储构建密钥")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以通过将 "),s("code",[this._v("localStorage")]),this._v(" 设置为 "),s("code",[this._v("false")]),this._v(" 来禁用localStorage的使用，如下:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(":")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[this._v("false")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie","aria-hidden":"true"}},[this._v("#")]),this._v(" cookie")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  prefix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("path")]),t._v(" - cookie的路径。默认为 '/'。")]),t._v(" "),a("li",[a("code",[t._v("expires")]),t._v(" - 可以用来指定cookie生存期的天数或特定日期，默认为 session。")]),t._v(" "),a("li",[a("code",[t._v("domain")]),t._v(" - cookie中可以看到的域（以及扩展子域/s）。默认是域和所有子域。")]),t._v(" "),a("li",[a("code",[t._v("secure")]),t._v(" - 这是一个安全协议(https)。默认是false。如果可能，应该设置为true。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过将 "),s("code",[this._v("cookie")]),this._v(" 设置为 "),s("code",[this._v("false")]),this._v("，可以禁用cookie存储。如下:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("cookie"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(":")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[this._v("false")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("否则这个auth token将存储在默认名为: "),s("code",[this._v("auth._token.{provider}")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" plugins")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#recipes"}},[this._v("扩展验证")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"resetonerror"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resetonerror","aria-hidden":"true"}},[this._v("#")]),this._v(" resetOnError")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("false")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"rewriteredirects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rewriteredirects","aria-hidden":"true"}},[this._v("#")]),this._v(" rewriteRedirects")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("true")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"fullpathredirect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fullpathredirect","aria-hidden":"true"}},[this._v("#")]),this._v(" fullPathRedirect")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("false")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"vuex-namespace"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-namespace","aria-hidden":"true"}},[this._v("#")]),this._v(" vuex.namespace")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("auth")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"scopekey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scopekey","aria-hidden":"true"}},[this._v("#")]),this._v(" scopeKey")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("scope")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("用于范围检查的 "),s("code",[this._v("user")]),this._v(" 对象属性（hasScope），可以是数组也可以是对象。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"schemes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#schemes","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("Schemes")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("auth.strategies")]),this._v(" 选项是一个对象。键是策略名称，值是配置。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，实例名称与方案名称相同，如果希望通过提供自己的方案或具有相同方案的多个实例获得更大的扩展性，可以使用 "),s("code",[this._v("_scheme")]),this._v(" 属性:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    local1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _scheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    local2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _scheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    custom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _scheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~/app/customStrategy.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"local"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#local","aria-hidden":"true"}},[this._v("#")]),this._v(" Local")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("local")]),this._v(" 是默认通用认证方案，支持 "),s("code",[this._v("Cookie")]),this._v(" 和 "),s("code",[this._v("JWT")]),this._v(" 登录流程。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("提示：您可以将 "),s("code",[this._v("strategies.local")]),this._v(" 设置 "),s("code",[this._v("false")]),this._v(" 以禁用它。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用法","aria-hidden":"true"}},[this._v("#")]),this._v(" 用法")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      endpoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        login"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/auth/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" propertyName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'token'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        logout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/auth/logout'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/auth/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" propertyName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tokenRequired: true,")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tokenType: 'bearer',")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#endpoints","aria-hidden":"true"}},[this._v("#")]),this._v(" endpoints")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("提示：要禁用每个属性，只需将其值设置为false。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"propertyname"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#propertyname","aria-hidden":"true"}},[this._v("#")]),this._v(" propertyName")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("propertyName")]),this._v(" 可用于指定使用响应JSON的哪个字段作为值。"),s("code",[this._v("undefined")]),this._v(" 可以直接使用API​​响应，或者像 "),s("code",[this._v("auth.user")]),this._v(" 更复杂。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"tokenrequired"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tokenrequired","aria-hidden":"true"}},[this._v("#")]),this._v(" tokenRequired")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"tokentype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tokentype","aria-hidden":"true"}},[this._v("#")]),this._v(" tokenType")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Default: "),s("code",[this._v("Bearer")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"使用-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your_username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your_password'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"oauth2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#oauth2","aria-hidden":"true"}},[this._v("#")]),this._v(" Oauth2")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("oauth2")]),this._v(" 支持各种oauth2登录流程。您也可以自定义配置，而不是直接使用此方案。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"用法-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用法-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 用法")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    social"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      _scheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'oauth2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      authorization_endpoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://accounts.google.com/o/oauth2/auth'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("必选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      userinfo_endpoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.googleapis.com/oauth2/v3/userinfo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("必选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      scope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'openid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'profile'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'email'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      response_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'token'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      token_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bearer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      redirect_uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" undefined"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_ME'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("必选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      token_key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'access_token'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"authorization-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authorization-endpoint","aria-hidden":"true"}},[this._v("#")]),this._v(" authorization_endpoint")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"userinfo-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#userinfo-endpoint","aria-hidden":"true"}},[this._v("#")]),this._v(" userinfo_endpoint")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"scope"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scope","aria-hidden":"true"}},[this._v("#")]),this._v(" scope")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"response-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-type","aria-hidden":"true"}},[this._v("#")]),this._v(" response_type")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认值是 "),s("code",[this._v("token")]),this._v("，如果使用 "),s("code",[this._v("code")]),this._v("，则必须实现服务器端逻辑来对响应代码进行签名。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"token-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#token-type","aria-hidden":"true"}},[this._v("#")]),this._v(" token_type")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认值是 "),s("code",[this._v("Bearer")]),this._v("，它将用于axios请求的 "),s("code",[this._v("Authorization")]),this._v(" 头部。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"redirect-uri"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirect-uri","aria-hidden":"true"}},[this._v("#")]),this._v(" redirect_uri")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，它将从"),s("code",[this._v("redirect.callback")]),this._v("选项推断。(默认为 "),s("code",[this._v("/login")]),this._v(")")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"client-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client-id","aria-hidden":"true"}},[this._v("#")]),this._v(" client_id")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"token-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#token-key","aria-hidden":"true"}},[this._v("#")]),this._v(" token_key")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，设置为token_key: "),s("code",[this._v("access_token")]),this._v("。如果需要使用IdToken而不是AccessToken，将此选项设置为token_key："),s("code",[this._v("id_token")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"refresh-token-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#refresh-token-key","aria-hidden":"true"}},[this._v("#")]),this._v(" refresh_token_key")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，设置为refresh_token_key: "),s("code",[this._v("refresh_token")]),this._v("。如果存在，它将自动存储refresh_token。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"使用-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'social'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"providers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#providers","aria-hidden":"true"}},[this._v("#")]),this._v(" Providers")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"用法-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用法-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 用法")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    auth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      domain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'domain.auth0.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'....'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(210),alt:"hosted-login"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("💁此程序基于"),s("a",{attrs:{href:"#oauth2"}},[this._v("oauth2方案")]),this._v("，并支持所有方案选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("获取 "),s("code",[this._v("client_id")]),this._v(" and "),s("code",[this._v("domain")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(211),alt:"client_settings"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"facebook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#facebook","aria-hidden":"true"}},[this._v("#")]),this._v(" Facebook")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    facebook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      userinfo_endpoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://graph.facebook.com/v2.12/me?fields=about,name,picture{url},email,birthday'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      scope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public_profile'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'email'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user_birthday'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'social'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("💁此程序基于"),s("a",{attrs:{href:"#oauth2"}},[this._v("oauth2方案")]),this._v("，并支持所有方案选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("获取 "),s("code",[this._v("client_id")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"github"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github","aria-hidden":"true"}},[this._v("#")]),this._v(" Github")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        client_secret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("💁此程序基于"),s("a",{attrs:{href:"#oauth2"}},[this._v("oauth2方案")]),this._v("，并支持所有方案选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("获取 "),s("code",[this._v("client_id")]),this._v(" 和 "),s("code",[this._v("client_secret")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"google"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#google","aria-hidden":"true"}},[this._v("#")]),this._v(" Google")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      google"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("💁此程序基于"),s("a",{attrs:{href:"#oauth2"}},[this._v("oauth2方案")]),this._v("，并支持所有方案选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("获取 "),s("code",[this._v("client_id")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"laravel-passport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laravel-passport","aria-hidden":"true"}},[this._v("#")]),this._v(" Laravel Passport")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  strategies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'laravel.passport'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        client_secret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'laravel.passport'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("💁此程序基于"),s("a",{attrs:{href:"#oauth2"}},[this._v("oauth2方案")]),this._v("，并支持所有方案选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("获取 "),s("code",[this._v("url")]),this._v("、"),s("code",[this._v("client_id")]),this._v(" 和 "),s("code",[this._v("client_secret")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api","aria-hidden":"true"}},[this._v("#")]),this._v(" API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"auth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#auth","aria-hidden":"true"}},[this._v("#")]),this._v(" Auth")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("该模块全局注入"),s("code",[this._v("$auth")]),this._v("实例，这意味着您可以使用"),s("code",[this._v("this.$auth")]),this._v("在任何地方访问它。对于plugins、asyncData、fetch、nuxtServerInit和Middleware，您可以从"),s("code",[this._v("context.app.$auth")]),this._v("中访问它。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能","aria-hidden":"true"}},[this._v("#")]),this._v(" 性能")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("所有属性都是被动的。这意味着您可以在Vue模板"),s("code",[this._v("v-if")]),this._v("条件下安全地使用它们。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("user")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("此对象包含有关已认证用户的详细信息，例如名称。您可以使用"),s("code",[this._v("$auth")]),this._v("或Vuex 访问它。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 $auth")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user\n​\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 vuex 中使用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"loggedin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loggedin","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("loggedIn")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 $auth")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loggedIn\n​\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 vuex 中使用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loggedIn\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在这使用的背后，需要auth使用"),s("a",{attrs:{href:"#storage"}},[this._v("$storage")]),this._v("附加实例来提供此状态。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[this._v("#")]),this._v(" methods")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("loginWith(strategyName, ...args)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Returns: "),s("code",[this._v("Promise")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将当前策略设置为"),s("code",[this._v("strategyName")]),this._v("并尝试登录。用法因当前策略而异。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* .... */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$toast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Logged In!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"login-args"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#login-args","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("login(...args)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Returns: "),s("code",[this._v("Promise")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("提示：建议使用 "),s("code",[this._v("loginWith")]),this._v(" 而不是这个函数！")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* .... */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$toast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Logged In!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"logout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logout","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("logout()")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Returns: "),s("code",[this._v("Promise")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"fetchuser"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetchuser","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("fetchUser()")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Returns: "),s("code",[this._v("Promise")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"hasscope-scopename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hasscope-scopename","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("hasScope(scopeName)")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回是一个计算属性的布尔值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasScope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"settoken-strategy-token"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#settoken-strategy-token","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("setToken(strategy, token)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通用设置token。该"),s("code",[this._v("name")]),this._v("参数是可选的，默认为"),s("code",[this._v("options.token.name")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新 token")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.....'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"onerror-handler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#onerror-handler","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("onError(handler)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("侦听身份验证错误: ("),s("code",[this._v("plugins/auth.js")]),this._v(")")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $auth "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  $auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onError")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" endpoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#storage","aria-hidden":"true"}},[this._v("#")]),this._v(" Storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"universal-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#universal-storage","aria-hidden":"true"}},[this._v("#")]),this._v(" Universal Storage")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setUniversal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isJson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniversal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isJson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("syncUniversal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" defaultValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isJson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"local-stat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#local-stat","aria-hidden":"true"}},[this._v("#")]),this._v(" Local Stat")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$state\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// OR")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$state\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n​\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Watch state changes")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'loggedIn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"cookies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookies","aria-hidden":"true"}},[this._v("#")]),this._v(" Cookies")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isJson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"local-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#local-storage","aria-hidden":"true"}},[this._v("#")]),this._v(" Local Storage")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLocalstorage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isJson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLocalstorage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"recipes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#recipes","aria-hidden":"true"}},[this._v("#")]),this._v(" Recipes")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"extend-auth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extend-auth","aria-hidden":"true"}},[this._v("#")]),this._v(" Extend Auth")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("nuxt.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/auth'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~/plugins/auth.js'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("plugins/auth.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loggedIn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n​\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链接","aria-hidden":"true"}},[this._v("#")]),this._v(" 链接")])}],n=a(0),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("yarn 和 npm 安装:")]),t._v(" "),t._m(3),a("p",[t._v("nuxt.config.js")]),t._v(" "),t._m(4),a("p",[t._v("添加到新的Nuxt项目时，请确保已使用了Vuex存储。有关如何执行此操作的更多信息，请参阅 "),a("code",[t._v("auth-moduleNuxt")]),t._v(" "),a("a",{attrs:{href:"https://nuxtjs.org/guide/vuex-store",target:"_blank",rel:"noopener noreferrer"}},[t._v("入门指南"),a("OutboundLink")],1)]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("路由设置:")]),t._v(" "),t._m(7),a("p",[t._v("在nuxt.config.js中使用全局配置:")]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("默认:")]),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("当启用（默认）时，用户将在登录/注销时重定向。")]),t._v(" "),t._m(18),t._v(" "),a("p",[t._v("Auth token在用户登录时存储在各种存储（cookie、localStorage、vuex）中，以提供跨服务器端呈现（SSR）和客户端呈现的无缝auth体验。token以以下格式的存储键存储:"),a("code",[t._v("{storageProvider.prefix}{token.prefix}{strategy}")]),t._v("。有关详细信息，请参阅"),a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/master/lib/core/auth.js#L160",target:"_blank",rel:"noopener noreferrer"}},[t._v("auth.js - Token helpers"),a("OutboundLink")],1),t._v("帮助程序和"),a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/master/lib/core/storage.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("storage.js"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("默认:")]),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),t._v(" "),a("p",[t._v("默认:")]),t._v(" "),t._m(22),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),a("p",[t._v("否则，身份验证token将以默认密钥存储在localStorage中: auth._token.{provider}。")]),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("默认:")]),t._v(" "),t._m(27),a("ul",[a("li",[t._v("prefix - 在浏览器的localStorage中为token存储构建密钥时使用的默认前缀")]),t._v(" "),a("li",[t._v("options - cookie选项，通过"),a("a",{attrs:{href:"https://github.com/js-cookie/js-cookie",target:"_blank",rel:"noopener noreferrer"}},[t._v("js-cookie"),a("OutboundLink")],1),t._v(" "),a("code",[t._v("set")]),t._v(" 和 "),a("code",[t._v("get")]),t._v("函数。有关它们支持的选项及其默认值的详细信息，请参阅"),a("a",{attrs:{href:"https://github.com/js-cookie/js-cookie#cookie-attributes",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v("，包括:\n"),t._m(28)])]),t._v(" "),a("p",[t._v("注意: 要使用JWT token，SSR请求需要使用cookie。")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._v(" "),a("p",[t._v("如果您有任何依赖于$auth的nuxt插件，则必须在这里指定它，而不是在nuxt.config.js插件选项中指定。")]),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),a("p",[t._v("如果启用，如果发生任何错误，用户将自动注销（例如token过期）")]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),a("p",[t._v("如果启用，用户将重定向回原来的路由，而不是redirect.home")]),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),a("p",[t._v("如果为true，则使用于带有重定向查询参数的完整路由路径。")]),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),a("p",[t._v("vuex存储用于保持状态的管理器。")]),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),a("p",[t._v("方案定义了身份验证逻辑。策略是Scheme的可配置实例。您可以在项目中使用多个方案和策略。")]),t._v(" "),t._m(47),t._v(" "),t._m(48),t._m(49),t._v(" "),t._m(50),t._m(51),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/schemes/local.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(52),t._v(" "),a("p",[t._v("默认情况下启用和预配置local方案。")]),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._m(56),t._v(" "),a("p",[t._v("每个属性用于使用axios进行请求。它们基本上扩展了Axios "),a("a",{attrs:{href:"https://github.com/axios/axios#request-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("请求配置"),a("OutboundLink")],1)]),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),a("p",[t._v("此选项可用于禁用所有token。仅用于Cookie。")]),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),a("p",[t._v("在axios请求中使用的授权头类型。")]),t._v(" "),t._m(63),t._v(" "),a("p",[t._v("通过将凭据作为JSON对象在请求体中发送，执行基于密码的登录:")]),t._v(" "),t._m(64),t._m(65),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/schemes/oauth2.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._m(69),t._v(" "),a("p",[t._v("必选 - 启动登录流程的属性。取决于oauth服务。")]),t._v(" "),t._m(70),t._v(" "),a("p",[t._v("虽然不是oauth2规范的一部分，几乎所有的oauth2都公开这个属性以获取用户配置文件。如果设置了错误值，我们只登录而不获取用户配置文件。")]),t._v(" "),t._m(71),t._v(" "),a("p",[t._v("必选 - Oauth2访问范围")]),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),a("p",[t._v("应该与登录页面或相对路径相同的页面。"),a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/examples/demo/pages/callback.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),a("OutboundLink")],1)]),t._v(" "),t._m(78),t._v(" "),a("p",[t._v("必选 - oauth2客户端ID。")]),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._m(85),t._v(" "),a("p",[t._v("Providers 是Schemes之上的抽象。它们使得与流行的身份验证服务集成变得非常容易。他们可以通过提供程序所需的服务器端更改（例如 token 签名）执行更多操作，您也可以自己编写。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/auth0.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(86),t._v(" "),t._m(87),a("p",[t._v("在项目逻辑中的任何地方:")]),t._v(" "),t._m(88),a("p",[t._v("用户将被重定向到如下页面:")]),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),t._m(91),t._v(" "),a("p",[t._v("需要这些选项。您的应用程序需要关于这个客户端的一些细节来与Auth0通信。您可以从 "),a("a",{attrs:{href:"https://auth0.auth0.com/login?state=g6Fo2SBWajVOV2w4b3FULXlEMzJlT3F2NWRHWnhldHlCSFZsdaN0aWTZMmdhRm8yU0EyV2sxNU0xSXlibnBmTlRSSlUzTkhkVVZsVVROSlZIWTFla2hhUTBrMVpno2NpZNkgekVZZnBvRnpVTUV6aWxoa0hpbGNXb05rckZmSjNoQUk&client=zEYfpoFzUMEzilhkHilcWoNkrFfJ3hAI&protocol=oauth2&response_type=code&redirect_uri=https%3A%2F%2Fmanage.auth0.com%2Fcallback&scope=openid%20profile%20name%20email%20nickname%20created_at",target:"_blank",rel:"noopener noreferrer"}},[t._v("Auth0 dashboard"),a("OutboundLink")],1),t._v(" 中的客户端设置部分获得这些详细信息。")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/facebook.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(94),a("p",[t._v("在项目逻辑中的任何地方:")]),t._v(" "),t._m(95),t._m(96),t._v(" "),t._m(97),t._v(" "),a("p",[t._v("此选项是必需的。要获得一个，请在"),a("a",{attrs:{href:"https://developers.facebook.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Facebook Developers"),a("OutboundLink")],1),t._v('中创建您的应用程序并添加"Facebook Login"产品。然后设置有效的回调URL。客户端ID与"App ID"相同。')]),t._v(" "),t._m(98),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/github.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(99),a("p",[t._v("在项目逻辑中的任何地方:")]),t._v(" "),t._m(100),t._m(101),t._v(" "),t._m(102),t._v(" "),a("p",[t._v("此选项是必需的。要获得一个，请在创建新的"),a("a",{attrs:{href:"https://github.com/settings/applications/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("Oauth APP"),a("OutboundLink")],1),t._v('中创建您的应用程序，并使用提供的"客户端ID"和"客户端密钥"。')]),t._v(" "),t._m(103),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/google.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(104),a("p",[t._v("在项目逻辑中的任何地方:")]),t._v(" "),t._m(105),t._m(106),t._v(" "),t._m(107),t._v(" "),a("p",[t._v("此选项是必需的。要获取一个，请在"),a("a",{attrs:{href:"https://console.developers.google.com/projectselector/apis/dashboard?supportedpurview=project",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google API控制台中"),a("OutboundLink")],1),t._v('创建您的应用，创建一个新项目，然后从"凭据"标签中创建一个新的"Oauth客户端ID"。')]),t._v(" "),t._m(108),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/laravel.passport.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(109),a("p",[t._v("在项目逻辑中的任何地方:")]),t._v(" "),t._m(110),t._m(111),t._v(" "),t._m(112),t._v(" "),a("p",[t._v("这些选项是必需的。在"),a("a",{attrs:{href:"https://laravel.com/docs/5.6/passport#managing-clients",target:"_blank",rel:"noopener noreferrer"}},[t._v("Laravel应用程序"),a("OutboundLink")],1),t._v("中创建一个新的客户端应用程序，并且获取 "),a("code",[t._v("url")]),t._v("、"),a("code",[t._v("client_id")]),t._v(" 和 "),a("code",[t._v("client_secret")]),t._v("。")]),t._v(" "),t._m(113),t._v(" "),t._m(114),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/core/auth.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),t._m(115),t._v(" "),t._m(116),t._v(" "),t._m(117),t._v(" "),t._m(118),t._v(" "),t._m(119),t._v(" "),t._m(120),t._m(121),t._v(" "),a("p",[t._v("此布尔标志表示用户此时已经过身份验证且可用。")]),t._v(" "),t._m(122),t._m(123),t._v(" "),t._m(124),t._v(" "),t._m(125),t._v(" "),t._m(126),t._v(" "),t._m(127),t._v(" "),t._m(128),t._m(129),t._v(" "),t._m(130),t._v(" "),a("p",[t._v("使用主动策略登录。用法因当前策略而异。")]),t._v(" "),t._m(131),t._v(" "),t._m(132),t._m(133),t._v(" "),t._m(134),t._v(" "),a("p",[t._v("退出活动策略。用法因当前方案而异。")]),t._v(" "),t._m(135),t._m(136),t._v(" "),t._m(137),t._v(" "),a("p",[t._v("使用策略强制重新获取用户。")]),t._v(" "),t._m(138),t._m(139),t._v(" "),a("p",[t._v("检查用户是否具有特定范围：")]),t._v(" "),t._m(140),t._m(141),t._v(" "),t._m(142),t._v(" "),t._m(143),t._m(144),t._v(" "),t._m(145),t._v(" "),t._m(146),t._m(147),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/blob/dev/lib/core/storage.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Auth模块具有强大的内置Universal Storage，可保存token和配置文件数据。")]),t._v(" "),t._m(148),t._v(" "),a("p",[t._v("普遍vuex保持状态为localStorage和Cookies：")]),t._v(" "),t._m(149),t._m(150),t._v(" "),a("p",[t._v("Access to local state:")]),t._v(" "),t._m(151),t._m(152),t._m(153),t._v(" "),t._m(154),t._m(155),t._v(" "),t._m(156),t._m(157),t._v(" "),t._m(158),t._v(" "),a("p",[t._v("如果有需要访问$auth的插件，可以使用auth.plugins选项")]),t._v(" "),t._m(159),t._v(" "),t._m(160),t._m(161),t._v(" "),t._m(162),t._m(163),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/auth-module/",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://auth.nuxtjs.org/meta/migration",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1)])])},e,!1,null,null,null);r.options.__file="Auth.md";s.default=r.exports}}]);