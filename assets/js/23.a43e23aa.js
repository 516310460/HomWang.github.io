(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{222:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("该模块用于环境变量配置，用于将.env文件加载到上下文中使用。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("yarn 和 npm 安装:")]),t._v(" "),t._m(5),a("p",[t._v("nuxt.config.js")]),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),a("p",[t._v("以上仅作为一些复杂的配置示例，您可以根据自己的业务需求来定。（个人认为最好前后分离）")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),a("p",[t._v("默认情况下为false，系统中的变量将被忽略。设置为true将允许您的系统设置变量起作用。")]),t._v(" "),t._m(20),t._m(21),t._v(" "),a("p",[t._v("当我们需要为不同的环境使用不同的配置文件时，我们可以覆盖文件名。")]),t._v(" "),t._m(22),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nuxt-community/dotenv-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("github"),a("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"📦-dotenv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#📦-dotenv","aria-hidden":"true"}},[this._v("#")]),this._v(" 📦 Dotenv")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性","aria-hidden":"true"}},[this._v("#")]),this._v(" 特性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("直接从您的.env文件的模块加载变量到您的nuxt.js应用程序"),s("code",[this._v("context")]),this._v("和"),s("code",[this._v("process.env")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("yarn add @nuxtjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("/")]),this._v("dotenv\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[this._v("OR")]),this._v("\nnpm install @nuxtjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("/")]),this._v("dotenv\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Simple usage")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/dotenv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// With options")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/dotenv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* module options */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用法","aria-hidden":"true"}},[this._v("#")]),this._v(" 用法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在项目根目录中创建.env文件后，只需运行您的常用文件"),s("code",[this._v("npm run dev")]),this._v("。.env文件中的变量将被添加到context（context.env）和process（process.env）中")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v(".env")]),this._v(" 配置文件，示例:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 运行环境名称")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_ENV")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("local\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调试模式，开发阶段启用，上线状态禁用。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_DEBUG")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 敏感信息加密密钥。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 项目根目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_URL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("localhost\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缓存驱动，默认使用文件作为缓存。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CACHE_DRIVER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("file\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回话驱动，默认使用文件存储SESSION。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SESSION_DRIVER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("file\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 队列驱动，默认使用同步模式。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("QUEUE_DRIVER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("sync\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Redis高性能key-value数据库，使用内存存储，用于数据持久化。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REDIS_HOST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REDIS_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REDIS_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据库配置项")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DB_HOST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库主机名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DB_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DB_DATABASE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("homestead"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库名称")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DB_USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("homestead"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库登录账户")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DB_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("secret"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库登录密码")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项","aria-hidden":"true"}},[this._v("#")]),this._v(" 选项")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"only"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#only","aria-hidden":"true"}},[this._v("#")]),this._v(" only")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果希望限制上下文中可访问的内容，可以将"),s("code",[this._v("only")]),this._v("带有要允许键的数组传递给模块选项")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/dotenv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" only"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some_key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path","aria-hidden":"true"}},[this._v("#")]),this._v(" path")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，我们将从项目根目录加载"),s("code",[this._v(".env")]),this._v("文件。如果要更改我们可以找到.env文件的文件夹的路径，请使用该"),s("code",[this._v("path")]),this._v("选项。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  modules ： "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/dotenv'")]),t._v("，"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path ： "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/my/global/env/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("，\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请注意，这是"),s("code",[this._v(".env")]),this._v("文件所在文件夹的路径，而不是"),s("code",[this._v(".env")]),this._v("文件本身的路径（路径可以是绝对的或相对的）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"systemvars"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#systemvars","aria-hidden":"true"}},[this._v("#")]),this._v(" systemvars")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  modules ： "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/dotenv'")]),t._v("，"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("systemvars ： "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("，\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"filename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#filename","aria-hidden":"true"}},[this._v("#")]),this._v(" filename")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/dotenv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.env.prod'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"在nuxt-config-js中使用-env文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在nuxt-config-js中使用-env文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 在nuxt.config.js中使用.env文件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("dotenv-module")]),this._v("不会重载运行构建流程的环境变量。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果此时需要使用.env文件中的变量，只需将"),s("code",[this._v("require('dotenv').config()")]),this._v("添加到"),s("code",[this._v("nuxt.config.js")]),this._v("：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dotenv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// your usual nuxt config.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由于该模块提供的"),s("code",[this._v("dotenv")]),this._v("库是依赖项，因此可以正常工作。如果决定在模块配置中忽略.env文件中的一些值，这里就不适用。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链接","aria-hidden":"true"}},[this._v("#")]),this._v(" 链接")])}],!1,null,null,null);e.options.__file="Dotenv.md";s.default=e.exports}}]);