<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ”‘ Auth | Hom Wang</title>
    <meta name="description" content="Vue.jsã€Nuxt.jsã€Node.jsã€Flutter">
    <link rel="icon" href="/img/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.5d3f4931.css" as="style"><link rel="preload" href="/assets/js/app.3c8be811.js" as="script"><link rel="preload" href="/assets/js/17.dd1c270e.js" as="script"><link rel="prefetch" href="/assets/js/10.56150da0.js"><link rel="prefetch" href="/assets/js/11.ff18f93e.js"><link rel="prefetch" href="/assets/js/12.8ccd9dad.js"><link rel="prefetch" href="/assets/js/13.45786c14.js"><link rel="prefetch" href="/assets/js/14.fa6a5ff9.js"><link rel="prefetch" href="/assets/js/15.b7ea1a52.js"><link rel="prefetch" href="/assets/js/16.36fc4390.js"><link rel="prefetch" href="/assets/js/18.b6b7e8c6.js"><link rel="prefetch" href="/assets/js/19.e71ab80c.js"><link rel="prefetch" href="/assets/js/2.8864d7b9.js"><link rel="prefetch" href="/assets/js/20.1a5bd476.js"><link rel="prefetch" href="/assets/js/21.d1962134.js"><link rel="prefetch" href="/assets/js/22.8b48918f.js"><link rel="prefetch" href="/assets/js/23.87368eee.js"><link rel="prefetch" href="/assets/js/24.0ac03f94.js"><link rel="prefetch" href="/assets/js/25.c6c72a9c.js"><link rel="prefetch" href="/assets/js/26.4fbd88d4.js"><link rel="prefetch" href="/assets/js/27.ba3a19fd.js"><link rel="prefetch" href="/assets/js/28.ed456d14.js"><link rel="prefetch" href="/assets/js/29.a586f57e.js"><link rel="prefetch" href="/assets/js/3.bbdbddfb.js"><link rel="prefetch" href="/assets/js/30.2451e2b6.js"><link rel="prefetch" href="/assets/js/4.797a98ab.js"><link rel="prefetch" href="/assets/js/5.db239691.js"><link rel="prefetch" href="/assets/js/6.62101db5.js"><link rel="prefetch" href="/assets/js/7.81d72994.js"><link rel="prefetch" href="/assets/js/8.c60be1c1.js"><link rel="prefetch" href="/assets/js/9.a94ddf35.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d3f4931.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hom Wang</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><a href="/nuxt/introduction.html" class="nav-link">Nuxt.js</a></div><div class="nav-item"><a href="/Javascript/introduction.html" class="nav-link">Javascript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">äº†è§£æ›´å¤š</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/516310460" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/jakeWangHong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç äº‘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/0cd8d9f167dc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç®€ä¹¦
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nuxtjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxt.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><a href="/nuxt/introduction.html" class="nav-link">Nuxt.js</a></div><div class="nav-item"><a href="/Javascript/introduction.html" class="nav-link">Javascript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">äº†è§£æ›´å¤š</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/516310460" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/jakeWangHong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç äº‘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/0cd8d9f167dc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç®€ä¹¦
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nuxtjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxt.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/nuxt/introduction.html" class="sidebar-link">ä»‹ç»</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>å®˜æ–¹æ¨¡å—</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/nuxt/OfficialModules/Apollo.html" class="sidebar-link">âš¡ Apollo</a></li><li><a href="/nuxt/OfficialModules/Auth.html" class="active sidebar-link">ğŸ”‘ Auth</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#ä¸­é—´ä»¶" class="sidebar-link">ä¸­é—´ä»¶</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#é€‰é¡¹" class="sidebar-link">é€‰é¡¹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#redirect" class="sidebar-link">redirect</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#watchloggedin" class="sidebar-link">watchLoggedIn</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#token" class="sidebar-link">token</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#localstorage" class="sidebar-link">localStorage</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#cookie" class="sidebar-link">cookie</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#plugins" class="sidebar-link">plugins</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#resetonerror" class="sidebar-link">resetOnError</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#rewriteredirects" class="sidebar-link">rewriteRedirects</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#fullpathredirect" class="sidebar-link">fullPathRedirect</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#vuex-namespace" class="sidebar-link">vuex.namespace</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#scopekey" class="sidebar-link">scopeKey</a></li></ul></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#schemes" class="sidebar-link">Schemes</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#local" class="sidebar-link">Local</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#oauth2" class="sidebar-link">Oauth2</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#providers" class="sidebar-link">Providers</a></li></ul></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#auth" class="sidebar-link">Auth</a></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#storage" class="sidebar-link">Storage</a></li></ul></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#recipes" class="sidebar-link">Recipes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#extend-auth" class="sidebar-link">Extend Auth</a></li></ul></li><li class="sidebar-sub-header"><a href="/nuxt/OfficialModules/Auth.html#é“¾æ¥" class="sidebar-link">é“¾æ¥</a></li></ul></li><li><a href="/nuxt/OfficialModules/Axios.html" class="sidebar-link">ğŸ“¦ Axios</a></li><li><a href="/nuxt/OfficialModules/Dotenv.html" class="sidebar-link">ğŸ“¦ Dotenv</a></li><li><a href="/nuxt/OfficialModules/PWA.html" class="sidebar-link">âš¡ PWA</a></li><li><a href="/nuxt/OfficialModules/Yamlful.html" class="sidebar-link">ğŸ“¦ Yamlful</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>ç¤¾åŒºæ¨¡å—</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>å…¶ä»–æ¨¡å—</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/nuxt/OtherModules/guess.html" class="sidebar-link">âš¡ Guess.js</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>å·¥å…·</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/nuxt/Tools/nuxt-generate-cluster.html" class="sidebar-link">Nuxt.js å¤šçº¿ç¨‹ç”Ÿæˆå‘½ä»¤</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>æ•™ç¨‹</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/nuxt/Tutorials/pm2.html" class="sidebar-link">pm2 é›¶åœæœºéƒ¨ç½²</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="ğŸ”‘-auth"><a href="#ğŸ”‘-auth" aria-hidden="true" class="header-anchor">#</a> ğŸ”‘ Auth</h1> <blockquote><p>Nuxt.jsçš„èº«ä»½è®¤è¯æ¨¡å—</p></blockquote> <h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨</h2> <p>yarn å’Œ npm å®‰è£…:</p> <div class="language-js extra-class"><pre class="language-js"><code>yarn add @nuxtjs<span class="token operator">/</span>auth @nuxtjs<span class="token operator">/</span>axios
<span class="token constant">OR</span>
npm install @nuxtjs<span class="token operator">/</span>auth @nuxtjs<span class="token operator">/</span>axios
</code></pre></div><p>nuxt.config.js</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'@nuxtjs/axios'</span><span class="token punctuation">,</span>
    <span class="token string">'@nuxtjs/auth'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
â€‹
  auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Options</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ·»åŠ åˆ°æ–°çš„Nuxté¡¹ç›®æ—¶ï¼Œè¯·ç¡®ä¿å·²ä½¿ç”¨äº†Vuexå­˜å‚¨ã€‚æœ‰å…³å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <code>auth-moduleNuxt</code> <a href="https://nuxtjs.org/guide/vuex-store" target="_blank" rel="noopener noreferrer">å…¥é—¨æŒ‡å—<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" aria-hidden="true" class="header-anchor">#</a> ä¸­é—´ä»¶</h2> <p>å¯ä»¥åœ¨å…¨å±€æˆ–æ¯æ¡è·¯ç”±å¯ç”¨ <code>auth</code> ä¸­é—´ä»¶ã€‚å½“åœ¨è·¯ç”±ä¸Šå¯ç”¨æ­¤ä¸­é—´ä»¶å¹¶ä¸” <code>loggedIn</code> ä¸º <code>false</code> æ—¶ï¼Œç”¨æˆ·å°†è¢«é‡å®šå‘åˆ° <code>redirect.login</code> è·¯ç”±ã€‚(é»˜è®¤ä¸º <code>/login</code>)</p> <p>è·¯ç”±è®¾ç½®:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  middleware<span class="token punctuation">:</span> <span class="token string">'auth'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨nuxt.config.jsä¸­ä½¿ç”¨å…¨å±€é…ç½®:</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  middleware<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'auth'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨å…¨å±€ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åœ¨ç‰¹å®šç»„ä»¶ä¸­å°† <code>auth</code> é€‰é¡¹è®¾ç½®ä¸º <code>false</code>ï¼Œè€Œä¸­é—´ä»¶å°†å¿½ç•¥è¯¥è·¯ç”±ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  auth<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="é€‰é¡¹"><a href="#é€‰é¡¹" aria-hidden="true" class="header-anchor">#</a> é€‰é¡¹</h2> <h3 id="redirect"><a href="#redirect" aria-hidden="true" class="header-anchor">#</a> redirect</h3> <p>é»˜è®¤:</p> <div class="language-js extra-class"><pre class="language-js"><code>redirect<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  login<span class="token punctuation">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
  logout<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  home<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  callback<span class="token punctuation">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>login</code>: å¦‚æœéœ€è¦ç™»å½•ï¼Œç”¨æˆ·å°†è¢«é‡å®šå‘åˆ°æ­¤è·¯å¾„ã€‚</li> <li><code>logout</code>: å¦‚æœåœ¨æ³¨é”€åï¼Œå½“å‰è·¯ç”±å—åˆ°ä¿æŠ¤ï¼Œç”¨æˆ·å°†è¢«é‡å®šå‘åˆ°æ­¤è·¯å¾„ã€‚</li> <li><code>home</code>: ç™»å½•åï¼Œç”¨æˆ·å°†é‡å®šå‘åˆ°æ­¤è·¯å¾„ã€‚ï¼ˆå°†é‡å†™æ­¤è·¯å¾„ï¼‰</li> <li><code>callback</code>: ç™»å½•åï¼Œå°†ç”¨æˆ·é‡å®šå‘åˆ°æ­¤è·¯å¾„ã€‚ï¼ˆåº”è¯¥é…ç½®åŒ¹é… <code>å…è®¸å›è°ƒURL</code> ï¼ˆæˆ–ç±»ä¼¼è®¾ç½®ï¼‰åœ¨ä½ çš„åº”ç”¨ç¨‹åº/å®¢æˆ·ç«¯ã€‚</li></ul> <p>é€šè¿‡è®¾ç½®ä¸ºfalseï¼Œå¯ä»¥ç¦ç”¨æ¯ä¸ªé‡å®šå‘è·¯å¾„ã€‚è¿˜å¯ä»¥é€šè¿‡å°† <code>redirect</code> è®¾ç½®ä¸º <code>false</code> ç¦ç”¨æ‰€æœ‰é‡å®šå‘</p> <h3 id="watchloggedin"><a href="#watchloggedin" aria-hidden="true" class="header-anchor">#</a> watchLoggedIn</h3> <ul><li>Default: <code>true</code></li></ul> <p>å½“å¯ç”¨ï¼ˆé»˜è®¤ï¼‰æ—¶ï¼Œç”¨æˆ·å°†åœ¨ç™»å½•/æ³¨é”€æ—¶é‡å®šå‘ã€‚</p> <h3 id="token"><a href="#token" aria-hidden="true" class="header-anchor">#</a> token</h3> <p>Auth tokenåœ¨ç”¨æˆ·ç™»å½•æ—¶å­˜å‚¨åœ¨å„ç§å­˜å‚¨ï¼ˆcookieã€localStorageã€vuexï¼‰ä¸­ï¼Œä»¥æä¾›è·¨æœåŠ¡å™¨ç«¯å‘ˆç°ï¼ˆSSRï¼‰å’Œå®¢æˆ·ç«¯å‘ˆç°çš„æ— ç¼authä½“éªŒã€‚tokenä»¥ä»¥ä¸‹æ ¼å¼çš„å­˜å‚¨é”®å­˜å‚¨:<code>{storageProvider.prefix}{token.prefix}{strategy}</code>ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://github.com/nuxt-community/auth-module/blob/master/lib/core/auth.js#L160" target="_blank" rel="noopener noreferrer">auth.js - Token helpers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>å¸®åŠ©ç¨‹åºå’Œ<a href="https://github.com/nuxt-community/auth-module/blob/master/lib/core/storage.js" target="_blank" rel="noopener noreferrer">storage.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <p>é»˜è®¤:</p> <div class="language-js extra-class"><pre class="language-js"><code>token<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  prefix<span class="token punctuation">:</span> <span class="token string">'_token.'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>prefix - ç”¨äºæ„å»ºè·¨æ‰€æœ‰å­˜å‚¨tokenå¯†é’¥çš„å‰ç¼€</li></ul> <h3 id="localstorage"><a href="#localstorage" aria-hidden="true" class="header-anchor">#</a> localStorage</h3> <p>é»˜è®¤:</p> <div class="language-js extra-class"><pre class="language-js"><code>localStorage<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  prefix<span class="token punctuation">:</span> <span class="token string">'auth.'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>prefix - tokenå‰ç¼€ï¼Œç”¨äºæµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­çš„tokenå­˜å‚¨æ„å»ºå¯†é’¥</li></ul> <p>å¯ä»¥é€šè¿‡å°† <code>localStorage</code> è®¾ç½®ä¸º <code>false</code> æ¥ç¦ç”¨localStorageçš„ä½¿ç”¨ï¼Œå¦‚ä¸‹:</p> <div class="language-js extra-class"><pre class="language-js"><code>localStorage<span class="token punctuation">:</span> <span class="token boolean">false</span>
</code></pre></div><p>å¦åˆ™ï¼Œèº«ä»½éªŒè¯tokenå°†ä»¥é»˜è®¤å¯†é’¥å­˜å‚¨åœ¨localStorageä¸­: auth._token.{provider}ã€‚</p> <h3 id="cookie"><a href="#cookie" aria-hidden="true" class="header-anchor">#</a> cookie</h3> <p>é»˜è®¤:</p> <div class="language-js extra-class"><pre class="language-js"><code>cookie<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  prefix<span class="token punctuation">:</span> <span class="token string">'auth.'</span><span class="token punctuation">,</span>
  options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>prefix - åœ¨æµè§ˆå™¨çš„localStorageä¸­ä¸ºtokenå­˜å‚¨æ„å»ºå¯†é’¥æ—¶ä½¿ç”¨çš„é»˜è®¤å‰ç¼€</li> <li>options - cookieé€‰é¡¹ï¼Œé€šè¿‡<a href="https://github.com/js-cookie/js-cookie" target="_blank" rel="noopener noreferrer">js-cookie<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>set</code> å’Œ <code>get</code>å‡½æ•°ã€‚æœ‰å…³å®ƒä»¬æ”¯æŒçš„é€‰é¡¹åŠå…¶é»˜è®¤å€¼çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://github.com/js-cookie/js-cookie#cookie-attributes" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼ŒåŒ…æ‹¬:
<ul><li><code>path</code> - cookieçš„è·¯å¾„ã€‚é»˜è®¤ä¸º '/'ã€‚</li> <li><code>expires</code> - å¯ä»¥ç”¨æ¥æŒ‡å®šcookieç”Ÿå­˜æœŸçš„å¤©æ•°æˆ–ç‰¹å®šæ—¥æœŸï¼Œé»˜è®¤ä¸º sessionã€‚</li> <li><code>domain</code> - cookieä¸­å¯ä»¥çœ‹åˆ°çš„åŸŸï¼ˆä»¥åŠæ‰©å±•å­åŸŸ/sï¼‰ã€‚é»˜è®¤æ˜¯åŸŸå’Œæ‰€æœ‰å­åŸŸã€‚</li> <li><code>secure</code> - è¿™æ˜¯ä¸€ä¸ªå®‰å…¨åè®®(https)ã€‚é»˜è®¤æ˜¯falseã€‚å¦‚æœå¯èƒ½ï¼Œåº”è¯¥è®¾ç½®ä¸ºtrueã€‚</li></ul></li></ul> <p>æ³¨æ„: è¦ä½¿ç”¨JWT tokenï¼ŒSSRè¯·æ±‚éœ€è¦ä½¿ç”¨cookieã€‚</p> <p>é€šè¿‡å°† <code>cookie</code> è®¾ç½®ä¸º <code>false</code>ï¼Œå¯ä»¥ç¦ç”¨cookieå­˜å‚¨ã€‚å¦‚ä¸‹:</p> <div class="language-js extra-class"><pre class="language-js"><code>cookie<span class="token punctuation">:</span> <span class="token boolean">false</span>
</code></pre></div><p>å¦åˆ™è¿™ä¸ªauth tokenå°†å­˜å‚¨åœ¨é»˜è®¤åä¸º: <code>auth._token.{provider}</code>ã€‚</p> <h3 id="plugins"><a href="#plugins" aria-hidden="true" class="header-anchor">#</a> plugins</h3> <p>å¦‚æœæ‚¨æœ‰ä»»ä½•ä¾èµ–äº$authçš„nuxtæ’ä»¶ï¼Œåˆ™å¿…é¡»åœ¨è¿™é‡ŒæŒ‡å®šå®ƒï¼Œè€Œä¸æ˜¯åœ¨nuxt.config.jsæ’ä»¶é€‰é¡¹ä¸­æŒ‡å®šã€‚</p> <p><a href="#recipes">æ‰©å±•éªŒè¯</a></p> <h3 id="resetonerror"><a href="#resetonerror" aria-hidden="true" class="header-anchor">#</a> resetOnError</h3> <ul><li>Default: <code>false</code></li></ul> <p>å¦‚æœå¯ç”¨ï¼Œå¦‚æœå‘ç”Ÿä»»ä½•é”™è¯¯ï¼Œç”¨æˆ·å°†è‡ªåŠ¨æ³¨é”€ï¼ˆä¾‹å¦‚tokenè¿‡æœŸï¼‰</p> <h3 id="rewriteredirects"><a href="#rewriteredirects" aria-hidden="true" class="header-anchor">#</a> rewriteRedirects</h3> <ul><li>Default: <code>true</code></li></ul> <p>å¦‚æœå¯ç”¨ï¼Œç”¨æˆ·å°†é‡å®šå‘å›åŸæ¥çš„è·¯ç”±ï¼Œè€Œä¸æ˜¯redirect.home</p> <h3 id="fullpathredirect"><a href="#fullpathredirect" aria-hidden="true" class="header-anchor">#</a> fullPathRedirect</h3> <ul><li>Default: <code>false</code></li></ul> <p>å¦‚æœä¸ºtrueï¼Œåˆ™ä½¿ç”¨äºå¸¦æœ‰é‡å®šå‘æŸ¥è¯¢å‚æ•°çš„å®Œæ•´è·¯ç”±è·¯å¾„ã€‚</p> <h3 id="vuex-namespace"><a href="#vuex-namespace" aria-hidden="true" class="header-anchor">#</a> vuex.namespace</h3> <ul><li>Default: <code>auth</code></li></ul> <p>vuexå­˜å‚¨ç”¨äºä¿æŒçŠ¶æ€çš„ç®¡ç†å™¨ã€‚</p> <h3 id="scopekey"><a href="#scopekey" aria-hidden="true" class="header-anchor">#</a> scopeKey</h3> <ul><li>Default: <code>scope</code></li></ul> <p>ç”¨äºèŒƒå›´æ£€æŸ¥çš„ <code>user</code> å¯¹è±¡å±æ€§ï¼ˆhasScopeï¼‰ï¼Œå¯ä»¥æ˜¯æ•°ç»„ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒ</h2> <h3 id="schemes"><a href="#schemes" aria-hidden="true" class="header-anchor">#</a> <strong>Schemes</strong></h3> <p>æ–¹æ¡ˆå®šä¹‰äº†èº«ä»½éªŒè¯é€»è¾‘ã€‚ç­–ç•¥æ˜¯Schemeçš„å¯é…ç½®å®ä¾‹ã€‚æ‚¨å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¤šä¸ªæ–¹æ¡ˆå’Œç­–ç•¥ã€‚</p> <p><code>auth.strategies</code> é€‰é¡¹æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚é”®æ˜¯ç­–ç•¥åç§°ï¼Œå€¼æ˜¯é…ç½®ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    local<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    github<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ä¾‹åç§°ä¸æ–¹æ¡ˆåç§°ç›¸åŒï¼Œå¦‚æœå¸Œæœ›é€šè¿‡æä¾›è‡ªå·±çš„æ–¹æ¡ˆæˆ–å…·æœ‰ç›¸åŒæ–¹æ¡ˆçš„å¤šä¸ªå®ä¾‹è·å¾—æ›´å¤§çš„æ‰©å±•æ€§ï¼Œå¯ä»¥ä½¿ç”¨ <code>_scheme</code> å±æ€§:</p> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    local1<span class="token punctuation">:</span> <span class="token punctuation">{</span> _scheme<span class="token punctuation">:</span> <span class="token string">'local'</span><span class="token punctuation">,</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    local2<span class="token punctuation">:</span> <span class="token punctuation">{</span> _scheme<span class="token punctuation">:</span> <span class="token string">'local'</span><span class="token punctuation">,</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    custom<span class="token punctuation">:</span> <span class="token punctuation">{</span> _scheme<span class="token punctuation">:</span> <span class="token string">'~/app/customStrategy.js'</span><span class="token punctuation">,</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="local"><a href="#local" aria-hidden="true" class="header-anchor">#</a> Local</h3> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/schemes/local.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>local</code> æ˜¯é»˜è®¤é€šç”¨è®¤è¯æ–¹æ¡ˆï¼Œæ”¯æŒ <code>Cookie</code> å’Œ <code>JWT</code> ç™»å½•æµç¨‹ã€‚</p> <p>é»˜è®¤æƒ…å†µä¸‹å¯ç”¨å’Œé¢„é…ç½®localæ–¹æ¡ˆã€‚</p> <blockquote><p>æç¤ºï¼šæ‚¨å¯ä»¥å°† <code>strategies.local</code> è®¾ç½® <code>false</code> ä»¥ç¦ç”¨å®ƒã€‚</p></blockquote> <h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" aria-hidden="true" class="header-anchor">#</a> ç”¨æ³•</h4> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    local<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      endpoints<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        login<span class="token punctuation">:</span> <span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">'/api/auth/login'</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span> propertyName<span class="token punctuation">:</span> <span class="token string">'token'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        logout<span class="token punctuation">:</span> <span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">'/api/auth/logout'</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'post'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        user<span class="token punctuation">:</span> <span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">'/api/auth/user'</span><span class="token punctuation">,</span> method<span class="token punctuation">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span> propertyName<span class="token punctuation">:</span> <span class="token string">'user'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// tokenRequired: true,</span>
      <span class="token comment">// tokenType: 'bearer',</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="endpoints"><a href="#endpoints" aria-hidden="true" class="header-anchor">#</a> endpoints</h4> <p>æ¯ä¸ªå±æ€§ç”¨äºä½¿ç”¨axiosè¿›è¡Œè¯·æ±‚ã€‚å®ƒä»¬åŸºæœ¬ä¸Šæ‰©å±•äº†Axios <a href="https://github.com/axios/axios#request-config" target="_blank" rel="noopener noreferrer">è¯·æ±‚é…ç½®<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>æç¤ºï¼šè¦ç¦ç”¨æ¯ä¸ªå±æ€§ï¼Œåªéœ€å°†å…¶å€¼è®¾ç½®ä¸ºfalseã€‚</p></blockquote> <h4 id="propertyname"><a href="#propertyname" aria-hidden="true" class="header-anchor">#</a> propertyName</h4> <p><code>propertyName</code> å¯ç”¨äºæŒ‡å®šä½¿ç”¨å“åº”JSONçš„å“ªä¸ªå­—æ®µä½œä¸ºå€¼ã€‚<code>undefined</code> å¯ä»¥ç›´æ¥ä½¿ç”¨APIâ€‹â€‹å“åº”ï¼Œæˆ–è€…åƒ <code>auth.user</code> æ›´å¤æ‚ã€‚</p> <h4 id="tokenrequired"><a href="#tokenrequired" aria-hidden="true" class="header-anchor">#</a> tokenRequired</h4> <p>æ­¤é€‰é¡¹å¯ç”¨äºç¦ç”¨æ‰€æœ‰tokenã€‚ä»…ç”¨äºCookieã€‚</p> <h4 id="tokentype"><a href="#tokentype" aria-hidden="true" class="header-anchor">#</a> tokenType</h4> <ul><li>Default: <code>Bearer</code></li></ul> <p>åœ¨axiosè¯·æ±‚ä¸­ä½¿ç”¨çš„æˆæƒå¤´ç±»å‹ã€‚</p> <h4 id="ä½¿ç”¨-2"><a href="#ä½¿ç”¨-2" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨</h4> <p>é€šè¿‡å°†å‡­æ®ä½œä¸ºJSONå¯¹è±¡åœ¨è¯·æ±‚ä½“ä¸­å‘é€ï¼Œæ‰§è¡ŒåŸºäºå¯†ç çš„ç™»å½•:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'local'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">'your_username'</span><span class="token punctuation">,</span>
    password<span class="token punctuation">:</span> <span class="token string">'your_password'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="oauth2"><a href="#oauth2" aria-hidden="true" class="header-anchor">#</a> Oauth2</h3> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/schemes/oauth2.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>oauth2</code> æ”¯æŒå„ç§oauth2ç™»å½•æµç¨‹ã€‚æ‚¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é…ç½®ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æ­¤æ–¹æ¡ˆã€‚</p> <h4 id="ç”¨æ³•-2"><a href="#ç”¨æ³•-2" aria-hidden="true" class="header-anchor">#</a> ç”¨æ³•</h4> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    social<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      _scheme<span class="token punctuation">:</span> <span class="token string">'oauth2'</span><span class="token punctuation">,</span>
      authorization_endpoint<span class="token punctuation">:</span> <span class="token string">'https://accounts.google.com/o/oauth2/auth'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å¿…é€‰<span class="token punctuation">)</span>
      userinfo_endpoint<span class="token punctuation">:</span> <span class="token string">'https://www.googleapis.com/oauth2/v3/userinfo'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å¿…é€‰<span class="token punctuation">)</span>
      scope<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'openid'</span><span class="token punctuation">,</span> <span class="token string">'profile'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      response_type<span class="token punctuation">:</span> <span class="token string">'token'</span><span class="token punctuation">,</span>
      token_type<span class="token punctuation">:</span> <span class="token string">'Bearer'</span><span class="token punctuation">,</span>
      redirect_uri<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
      client_id<span class="token punctuation">:</span> <span class="token string">'SET_ME'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>å¿…é€‰<span class="token punctuation">)</span>
      token_key<span class="token punctuation">:</span> <span class="token string">'access_token'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="authorization-endpoint"><a href="#authorization-endpoint" aria-hidden="true" class="header-anchor">#</a> authorization_endpoint</h4> <p>å¿…é€‰ - å¯åŠ¨ç™»å½•æµç¨‹çš„å±æ€§ã€‚å–å†³äºoauthæœåŠ¡ã€‚</p> <h4 id="userinfo-endpoint"><a href="#userinfo-endpoint" aria-hidden="true" class="header-anchor">#</a> userinfo_endpoint</h4> <p>è™½ç„¶ä¸æ˜¯oauth2è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œå‡ ä¹æ‰€æœ‰çš„oauth2éƒ½å…¬å¼€è¿™ä¸ªå±æ€§ä»¥è·å–ç”¨æˆ·é…ç½®æ–‡ä»¶ã€‚å¦‚æœè®¾ç½®äº†é”™è¯¯å€¼ï¼Œæˆ‘ä»¬åªç™»å½•è€Œä¸è·å–ç”¨æˆ·é…ç½®æ–‡ä»¶ã€‚</p> <h4 id="scope"><a href="#scope" aria-hidden="true" class="header-anchor">#</a> scope</h4> <p>å¿…é€‰ - Oauth2è®¿é—®èŒƒå›´</p> <h4 id="response-type"><a href="#response-type" aria-hidden="true" class="header-anchor">#</a> response_type</h4> <p>é»˜è®¤å€¼æ˜¯ <code>token</code>ï¼Œå¦‚æœä½¿ç”¨ <code>code</code>ï¼Œåˆ™å¿…é¡»å®ç°æœåŠ¡å™¨ç«¯é€»è¾‘æ¥å¯¹å“åº”ä»£ç è¿›è¡Œç­¾åã€‚</p> <h4 id="token-type"><a href="#token-type" aria-hidden="true" class="header-anchor">#</a> token_type</h4> <p>é»˜è®¤å€¼æ˜¯ <code>Bearer</code>ï¼Œå®ƒå°†ç”¨äºaxiosè¯·æ±‚çš„ <code>Authorization</code> å¤´éƒ¨ã€‚</p> <h4 id="redirect-uri"><a href="#redirect-uri" aria-hidden="true" class="header-anchor">#</a> redirect_uri</h4> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†ä»<code>redirect.callback</code>é€‰é¡¹æ¨æ–­ã€‚(é»˜è®¤ä¸º <code>/login</code>)</p> <p>åº”è¯¥ä¸ç™»å½•é¡µé¢æˆ–ç›¸å¯¹è·¯å¾„ç›¸åŒçš„é¡µé¢ã€‚<a href="https://github.com/nuxt-community/auth-module/blob/dev/examples/demo/pages/callback.vue" target="_blank" rel="noopener noreferrer">ç¤ºä¾‹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="client-id"><a href="#client-id" aria-hidden="true" class="header-anchor">#</a> client_id</h4> <p>å¿…é€‰ - oauth2å®¢æˆ·ç«¯IDã€‚</p> <h4 id="token-key"><a href="#token-key" aria-hidden="true" class="header-anchor">#</a> token_key</h4> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¾ç½®ä¸ºtoken_key: <code>access_token</code>ã€‚å¦‚æœéœ€è¦ä½¿ç”¨IdTokenè€Œä¸æ˜¯AccessTokenï¼Œå°†æ­¤é€‰é¡¹è®¾ç½®ä¸ºtoken_keyï¼š<code>id_token</code>ã€‚</p> <h4 id="refresh-token-key"><a href="#refresh-token-key" aria-hidden="true" class="header-anchor">#</a> refresh_token_key</h4> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¾ç½®ä¸ºrefresh_token_key: <code>refresh_token</code>ã€‚å¦‚æœå­˜åœ¨ï¼Œå®ƒå°†è‡ªåŠ¨å­˜å‚¨refresh_tokenã€‚</p> <h4 id="ä½¿ç”¨-3"><a href="#ä½¿ç”¨-3" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'social'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="providers"><a href="#providers" aria-hidden="true" class="header-anchor">#</a> Providers</h3> <p>Providers æ˜¯Schemesä¹‹ä¸Šçš„æŠ½è±¡ã€‚å®ƒä»¬ä½¿å¾—ä¸æµè¡Œçš„èº«ä»½éªŒè¯æœåŠ¡é›†æˆå˜å¾—éå¸¸å®¹æ˜“ã€‚ä»–ä»¬å¯ä»¥é€šè¿‡æä¾›ç¨‹åºæ‰€éœ€çš„æœåŠ¡å™¨ç«¯æ›´æ”¹ï¼ˆä¾‹å¦‚ token ç­¾åï¼‰æ‰§è¡Œæ›´å¤šæ“ä½œï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™ã€‚</p> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/auth0.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="ç”¨æ³•-3"><a href="#ç”¨æ³•-3" aria-hidden="true" class="header-anchor">#</a> ç”¨æ³•</h4> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    auth0<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      domain<span class="token punctuation">:</span> <span class="token string">'domain.auth0.com'</span><span class="token punctuation">,</span>
      client_id<span class="token punctuation">:</span> <span class="token string">'....'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨é¡¹ç›®é€»è¾‘ä¸­çš„ä»»ä½•åœ°æ–¹:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'auth0'</span><span class="token punctuation">)</span>
</code></pre></div><p>ç”¨æˆ·å°†è¢«é‡å®šå‘åˆ°å¦‚ä¸‹é¡µé¢:</p> <p><img src="/assets/img/hosted-login.41f4f396.png" alt="hosted-login"></p> <p>ğŸ’æ­¤ç¨‹åºåŸºäº<a href="#oauth2">oauth2æ–¹æ¡ˆ</a>ï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ–¹æ¡ˆé€‰é¡¹ã€‚</p> <p>è·å– <code>client_id</code> and <code>domain</code></p> <p>éœ€è¦è¿™äº›é€‰é¡¹ã€‚æ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦å…³äºè¿™ä¸ªå®¢æˆ·ç«¯çš„ä¸€äº›ç»†èŠ‚æ¥ä¸Auth0é€šä¿¡ã€‚æ‚¨å¯ä»¥ä» <a href="https://auth0.auth0.com/login?state=g6Fo2SBWajVOV2w4b3FULXlEMzJlT3F2NWRHWnhldHlCSFZsdaN0aWTZMmdhRm8yU0EyV2sxNU0xSXlibnBmTlRSSlUzTkhkVVZsVVROSlZIWTFla2hhUTBrMVpno2NpZNkgekVZZnBvRnpVTUV6aWxoa0hpbGNXb05rckZmSjNoQUk&client=zEYfpoFzUMEzilhkHilcWoNkrFfJ3hAI&protocol=oauth2&response_type=code&redirect_uri=https%3A%2F%2Fmanage.auth0.com%2Fcallback&scope=openid%20profile%20name%20email%20nickname%20created_at" target="_blank" rel="noopener noreferrer">Auth0 dashboard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ä¸­çš„å®¢æˆ·ç«¯è®¾ç½®éƒ¨åˆ†è·å¾—è¿™äº›è¯¦ç»†ä¿¡æ¯ã€‚</p> <p><img src="/assets/img/client_settings.5d746055.png" alt="client_settings"></p> <h4 id="facebook"><a href="#facebook" aria-hidden="true" class="header-anchor">#</a> Facebook</h4> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/facebook.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    facebook<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client_id<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
      userinfo_endpoint<span class="token punctuation">:</span> <span class="token string">'https://graph.facebook.com/v2.12/me?fields=about,name,picture{url},email,birthday'</span><span class="token punctuation">,</span>
      scope<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'public_profile'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token string">'user_birthday'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨é¡¹ç›®é€»è¾‘ä¸­çš„ä»»ä½•åœ°æ–¹:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'social'</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ’æ­¤ç¨‹åºåŸºäº<a href="#oauth2">oauth2æ–¹æ¡ˆ</a>ï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ–¹æ¡ˆé€‰é¡¹ã€‚</p> <p>è·å– <code>client_id</code></p> <p>æ­¤é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚è¦è·å¾—ä¸€ä¸ªï¼Œè¯·åœ¨<a href="https://developers.facebook.com/" target="_blank" rel="noopener noreferrer">Facebook Developers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸­åˆ›å»ºæ‚¨çš„åº”ç”¨ç¨‹åºå¹¶æ·»åŠ &quot;Facebook Login&quot;äº§å“ã€‚ç„¶åè®¾ç½®æœ‰æ•ˆçš„å›è°ƒURLã€‚å®¢æˆ·ç«¯IDä¸&quot;App ID&quot;ç›¸åŒã€‚</p> <h4 id="github"><a href="#github" aria-hidden="true" class="header-anchor">#</a> Github</h4> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/github.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      github<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        client_id<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
        client_secret<span class="token punctuation">:</span> <span class="token string">'...'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨é¡¹ç›®é€»è¾‘ä¸­çš„ä»»ä½•åœ°æ–¹:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'github'</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ’æ­¤ç¨‹åºåŸºäº<a href="#oauth2">oauth2æ–¹æ¡ˆ</a>ï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ–¹æ¡ˆé€‰é¡¹ã€‚</p> <p>è·å– <code>client_id</code> å’Œ <code>client_secret</code></p> <p>æ­¤é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚è¦è·å¾—ä¸€ä¸ªï¼Œè¯·åœ¨åˆ›å»ºæ–°çš„<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener noreferrer">Oauth APP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸­åˆ›å»ºæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨æä¾›çš„&quot;å®¢æˆ·ç«¯ID&quot;å’Œ&quot;å®¢æˆ·ç«¯å¯†é’¥&quot;ã€‚</p> <h4 id="google"><a href="#google" aria-hidden="true" class="header-anchor">#</a> Google</h4> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/google.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      google<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        client_id<span class="token punctuation">:</span> <span class="token string">'...'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨é¡¹ç›®é€»è¾‘ä¸­çš„ä»»ä½•åœ°æ–¹:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'google'</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ’æ­¤ç¨‹åºåŸºäº<a href="#oauth2">oauth2æ–¹æ¡ˆ</a>ï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ–¹æ¡ˆé€‰é¡¹ã€‚</p> <p>è·å– <code>client_id</code></p> <p>æ­¤é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚è¦è·å–ä¸€ä¸ªï¼Œè¯·åœ¨<a href="https://console.developers.google.com/projectselector/apis/dashboard?supportedpurview=project" target="_blank" rel="noopener noreferrer">Google APIæ§åˆ¶å°ä¸­<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>åˆ›å»ºæ‚¨çš„åº”ç”¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶åä»&quot;å‡­æ®&quot;æ ‡ç­¾ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„&quot;Oauthå®¢æˆ·ç«¯ID&quot;ã€‚</p> <h4 id="laravel-passport"><a href="#laravel-passport" aria-hidden="true" class="header-anchor">#</a> Laravel Passport</h4> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/providers/laravel.passport.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code>auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  strategies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'laravel.passport'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
        client_id<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
        client_secret<span class="token punctuation">:</span> <span class="token string">'...'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨é¡¹ç›®é€»è¾‘ä¸­çš„ä»»ä½•åœ°æ–¹:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'laravel.passport'</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ’æ­¤ç¨‹åºåŸºäº<a href="#oauth2">oauth2æ–¹æ¡ˆ</a>ï¼Œå¹¶æ”¯æŒæ‰€æœ‰æ–¹æ¡ˆé€‰é¡¹ã€‚</p> <p>è·å– <code>url</code>ã€<code>client_id</code> å’Œ <code>client_secret</code></p> <p>è¿™äº›é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚åœ¨<a href="https://laravel.com/docs/5.6/passport#managing-clients" target="_blank" rel="noopener noreferrer">Laravelåº”ç”¨ç¨‹åº<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”è·å– <code>url</code>ã€<code>client_id</code> å’Œ <code>client_secret</code>ã€‚</p> <h2 id="api"><a href="#api" aria-hidden="true" class="header-anchor">#</a> API</h2> <h3 id="auth"><a href="#auth" aria-hidden="true" class="header-anchor">#</a> Auth</h3> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/core/auth.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>è¯¥æ¨¡å—å…¨å±€æ³¨å…¥<code>$auth</code>å®ä¾‹ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥ä½¿ç”¨<code>this.$auth</code>åœ¨ä»»ä½•åœ°æ–¹è®¿é—®å®ƒã€‚å¯¹äºpluginsã€asyncDataã€fetchã€nuxtServerInitå’ŒMiddlewareï¼Œæ‚¨å¯ä»¥ä»<code>context.app.$auth</code>ä¸­è®¿é—®å®ƒã€‚</p> <h4 id="æ€§èƒ½"><a href="#æ€§èƒ½" aria-hidden="true" class="header-anchor">#</a> æ€§èƒ½</h4> <p>æ‰€æœ‰å±æ€§éƒ½æ˜¯è¢«åŠ¨çš„ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨Vueæ¨¡æ¿<code>v-if</code>æ¡ä»¶ä¸‹å®‰å…¨åœ°ä½¿ç”¨å®ƒä»¬ã€‚</p> <h4 id="user"><a href="#user" aria-hidden="true" class="header-anchor">#</a> <code>user</code></h4> <p>æ­¤å¯¹è±¡åŒ…å«æœ‰å…³å·²è®¤è¯ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚åç§°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code>$auth</code>æˆ–Vuex è®¿é—®å®ƒã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½¿ç”¨ $auth</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>user
â€‹
<span class="token comment">// åœ¨ vuex ä¸­ä½¿ç”¨</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>user
</code></pre></div><h4 id="loggedin"><a href="#loggedin" aria-hidden="true" class="header-anchor">#</a> <code>loggedIn</code></h4> <p>æ­¤å¸ƒå°”æ ‡å¿—è¡¨ç¤ºç”¨æˆ·æ­¤æ—¶å·²ç»è¿‡èº«ä»½éªŒè¯ä¸”å¯ç”¨ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½¿ç”¨ $auth</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>loggedIn
â€‹
<span class="token comment">// åœ¨ vuex ä¸­ä½¿ç”¨</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>loggedIn
</code></pre></div><p>åœ¨è¿™ä½¿ç”¨çš„èƒŒåï¼Œéœ€è¦authä½¿ç”¨<a href="#storage">$storage</a>é™„åŠ å®ä¾‹æ¥æä¾›æ­¤çŠ¶æ€ã€‚</p> <h4 id="methods"><a href="#methods" aria-hidden="true" class="header-anchor">#</a> methods</h4> <p><code>loginWith(strategyName, ...args)</code></p> <ul><li>Returns: <code>Promise</code></li></ul> <p>å°†å½“å‰ç­–ç•¥è®¾ç½®ä¸º<code>strategyName</code>å¹¶å°è¯•ç™»å½•ã€‚ç”¨æ³•å› å½“å‰ç­–ç•¥è€Œå¼‚ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">loginWith</span><span class="token punctuation">(</span><span class="token string">'local'</span><span class="token punctuation">,</span> <span class="token comment">/* .... */</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'Logged In!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="login-args"><a href="#login-args" aria-hidden="true" class="header-anchor">#</a> <code>login(...args)</code></h4> <ul><li>Returns: <code>Promise</code></li></ul> <p>ä½¿ç”¨ä¸»åŠ¨ç­–ç•¥ç™»å½•ã€‚ç”¨æ³•å› å½“å‰ç­–ç•¥è€Œå¼‚ã€‚</p> <blockquote><p>æç¤ºï¼šå»ºè®®ä½¿ç”¨ <code>loginWith</code> è€Œä¸æ˜¯è¿™ä¸ªå‡½æ•°ï¼</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token comment">/* .... */</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'Logged In!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="logout"><a href="#logout" aria-hidden="true" class="header-anchor">#</a> <code>logout()</code></h4> <ul><li>Returns: <code>Promise</code></li></ul> <p>é€€å‡ºæ´»åŠ¨ç­–ç•¥ã€‚ç”¨æ³•å› å½“å‰æ–¹æ¡ˆè€Œå¼‚ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="fetchuser"><a href="#fetchuser" aria-hidden="true" class="header-anchor">#</a> <code>fetchUser()</code></h4> <ul><li>Returns: <code>Promise</code></li></ul> <p>ä½¿ç”¨ç­–ç•¥å¼ºåˆ¶é‡æ–°è·å–ç”¨æˆ·ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="hasscope-scopename"><a href="#hasscope-scopename" aria-hidden="true" class="header-anchor">#</a> <code>hasScope(scopeName)</code></h4> <p>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å…·æœ‰ç‰¹å®šèŒƒå›´ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è¿”å›æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§çš„å¸ƒå°”å€¼</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">hasScope</span><span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="settoken-strategy-token"><a href="#settoken-strategy-token" aria-hidden="true" class="header-anchor">#</a> <code>setToken(strategy, token)</code></h4> <p>é€šç”¨è®¾ç½®tokenã€‚è¯¥<code>name</code>å‚æ•°æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º<code>options.token.name</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ›´æ–° token</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span><span class="token string">'local'</span><span class="token punctuation">,</span> <span class="token string">'.....'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="onerror-handler"><a href="#onerror-handler" aria-hidden="true" class="header-anchor">#</a> <code>onError(handler)</code></h4> <p>ä¾¦å¬èº«ä»½éªŒè¯é”™è¯¯: (<code>plugins/auth.js</code>)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">{</span> $auth <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  $auth<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> name<span class="token punctuation">,</span> endpoint<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="storage"><a href="#storage" aria-hidden="true" class="header-anchor">#</a> Storage</h3> <p><a href="https://github.com/nuxt-community/auth-module/blob/dev/lib/core/storage.js" target="_blank" rel="noopener noreferrer">æºç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Authæ¨¡å—å…·æœ‰å¼ºå¤§çš„å†…ç½®Universal Storageï¼Œå¯ä¿å­˜tokenå’Œé…ç½®æ–‡ä»¶æ•°æ®ã€‚</p> <h4 id="universal-storage"><a href="#universal-storage" aria-hidden="true" class="header-anchor">#</a> Universal Storage</h4> <p>æ™®évuexä¿æŒçŠ¶æ€ä¸ºlocalStorageå’ŒCookiesï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">setUniversal</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">,</span> isJson<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">getUniversal</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> isJson<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">syncUniversal</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> defaultValue<span class="token punctuation">,</span> isJson<span class="token punctuation">)</span>
</code></pre></div><h4 id="local-stat"><a href="#local-stat" aria-hidden="true" class="header-anchor">#</a> Local Stat</h4> <p>Access to local state:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$state
<span class="token comment">// OR</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span>$state
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
â€‹
<span class="token comment">// Watch state changes</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">watchState</span><span class="token punctuation">(</span><span class="token string">'loggedIn'</span><span class="token punctuation">,</span> newValue <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="cookies"><a href="#cookies" aria-hidden="true" class="header-anchor">#</a> Cookies</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">,</span> isJson<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
</code></pre></div><h4 id="local-storage"><a href="#local-storage" aria-hidden="true" class="header-anchor">#</a> Local Storage</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">setLocalstorage</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">,</span> isJson<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>$storage<span class="token punctuation">.</span><span class="token function">getLocalstorage</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
</code></pre></div><h2 id="recipes"><a href="#recipes" aria-hidden="true" class="header-anchor">#</a> Recipes</h2> <h3 id="extend-auth"><a href="#extend-auth" aria-hidden="true" class="header-anchor">#</a> Extend Auth</h3> <p>å¦‚æœæœ‰éœ€è¦è®¿é—®$authçš„æ’ä»¶ï¼Œå¯ä»¥ä½¿ç”¨auth.pluginsé€‰é¡¹</p> <p><code>nuxt.config.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'@nuxtjs/auth'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'~/plugins/auth.js'</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>plugins/auth.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> app <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>app<span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>loggedIn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
â€‹
  <span class="token keyword">const</span> username <span class="token operator">=</span> app<span class="token punctuation">.</span>$auth<span class="token punctuation">.</span>user<span class="token punctuation">.</span>username
<span class="token punctuation">}</span>
</code></pre></div><h2 id="é“¾æ¥"><a href="#é“¾æ¥" aria-hidden="true" class="header-anchor">#</a> é“¾æ¥</h2> <p><a href="https://github.com/nuxt-community/auth-module/" target="_blank" rel="noopener noreferrer">ç¤ºä¾‹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://auth.nuxtjs.org/meta/migration" target="_blank" rel="noopener noreferrer">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/nuxt/OfficialModules/Apollo.html" class="prev">
          âš¡ Apollo
        </a></span> <span class="next"><a href="/nuxt/OfficialModules/Axios.html">
          ğŸ“¦ Axios
        </a>
        â†’
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.3c8be811.js" defer></script><script src="/assets/js/17.dd1c270e.js" defer></script>
  </body>
</html>
